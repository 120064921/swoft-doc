\# 输入参数解析

&gt; 输入对象是 \`inhere\console\io\Input\` 的实例

在终端中执行如下命令，用于演示参数选项等信息的解析:

\`\`\`bash

$ php examples/app home/useArg status=2 name=john arg0 -s=test --page=23 --id=154 -e dev -v vvv -d -rf --debug --test=false

\`\`\`

\*\*一点说明：\*\*

* 没有 \`-\` 开头的都认为是参数 \(eg: \`status=2\` \`arg0\`\)

* 反之，以 \`-\` 开头的则是选项数据

  * \`--\` 开头的是长选项\(long-option\)

  * 一个 \`-\` 开头的是短选项\(short-option\)

&gt; 支持混合式选项的赋值 \`--id=154\` 和 \`--id 154\` 是等效的

\*\*注意:\*\* 输入如下的字符串将会认为是布尔值

* \`on\|yes\|true\` -- \`true\`

* \`off\|no\|false\` -- \`false\`

\#\#\# 获取命令基本信息:

\`\`\`php

echo $input-&gt;getScript\(\);   // 'examples/app' 执行的入口脚本文件

echo $input-&gt;getCommand\(\); // 'home/useArg' 解析到的第一个参数将会被认为是命令名称，并且不会再存入到 参数列表中

echo $input-&gt;getFullScript\(\); // 命令行输入的原样字符串

\`\`\`

\#\#\# 获取解析后的参数信息

&gt; 通常的参数如 \`arg0\` 只能根据 index key 来获取值。但是提供以等号\(\`=\`\)连接的方式来指定参数名\(eg: \`status=2\`\)

打印所有的参数信息：

\`\`\`php

var\_dump\($input-&gt;getArgs\(\)\);

\`\`\`

output:

\`\`\`php

array\(3\) {

'status' =&gt; string\(1\) "2"

'name' =&gt; string\(4\) "john"

\[0\] =&gt; string\(4\) "arg0"

}

\`\`\`

扩展方法:

\`\`\`php

// argument

$first = $input-&gt;getFirstArg\(\); // 'arg0'

$status = $input-&gt;get\('status', 'default value'\); // '2'

\`\`\`

\#\#\# 获取解析后的选项信息

* 没有值的选项，将设置默认值为 \`bool\(true\)\`

* 短选项不仅仅只是以一个 \`-\` 开头，而且名称 \*\*只能是一个字符\*\*

* 多个\(默认值的\)短选项可以合并到一起写。如 \`-rf\` 会被解析为两个短选项 \`'r' =&gt; bool\(true\)\` \`'f' =&gt; bool\(true\)\`

打印所有的选项信息：

\`\`\`php

var\_dump\($input-&gt;getOpts\(\)\);

// var\_dump\($input-&gt;getLOpts\(\)\); // 只打印长选项信息

// var\_dump\($input-&gt;getSOpts\(\)\); // 只打印短选项信息

\`\`\`

output:

\`\`\`php

array\(10\) {

's' =&gt; string\(4\) "test"

'e' =&gt; string\(3\) "dev"

'v' =&gt; string\(3\) "vvv"

'd' =&gt; bool\(true\)

'r' =&gt; bool\(true\)

'f' =&gt; bool\(true\)

'page' =&gt; string\(2\) "23"

'id' =&gt;   string\(3\) "154"

'debug' =&gt; bool\(true\)

'test' =&gt; bool\(false\)

}

\`\`\`

扩展方法:

\`\`\`php

// option

$page = $input-&gt;getOpt\('page'\) // '23'

$debug = $input-&gt;boolOpt\('debug'\) // True

$test = $input-&gt;boolOpt\('test'\) // False

$d = $input-&gt;boolOpt\('d'\) // True

$d = $input-&gt;sBoolOpt\('d'\) // True

$showHelp = $input-&gt;sameOpt\(\['h','help'\]\) // 获取到一个值就返回，适合同一个含义的选项

\`\`\`

\#\#\# 读取用户输入

\`\`\`php

echo "Your name:";

$name = $input-&gt;read\(\);

// in terminal

// Your name: simon

echo $name; // 'simon'

\`\`\`

也可以直接将消息文本放入参数 \`$name = $input-&gt;read\("Your name:"\);\`

